.page
  .page__content
    .portfolio.flexbox.fd-column
      .flexbox.fd-row.jc-space-around.padding-bottom-sm
        .text-center
          .portfolio__gif
            %a{ :href => "/" }
              .port-animation-root
                .flexbox.fd-column.jc-center.ai-center.height-100.text-large.transparent
                  %span
                    adamzucker.io
                .port-animation-container
                  #adamzucker-example-container
      .text-center
        .portfolio__gif
          %a{ :href => "https://github.com/midma101/adamzucker-io" }
            -# =image_tag("gif/adamzucker_io_code.gif")
            %span
              >>>checkout the code<<<
      .text-center.padding-vertical-md
        ="// // //"
      .flexbox.fd-row.jc-space-around.padding-bottom-sm
        .text-center
          .portfolio__gif
            %a#shorty-example-container
              =image_tag("gif/shorty_ex.gif")
      .text-center
        .portfolio__gif
          %a{ :href => "https://github.com/midma101/shorty" }
            %span
              >>>checkout the code<<<

:javascript
  var end = Date.now() + (5 * 1000);

  // go Buckeyes!
  var colors = ['#bb0000', '#ffffff'];
  document.getElementById('shorty-example-container').onclick = frame;

  console.log("cool story");
  function frame() {
    confetti({
      particleCount: 100,
      startVelocity: 30,
      spread: 360,
      origin: {
        x: Math.random(),
        // since they fall down, start a bit higher than random
        y: Math.random() - 0.2
      }
    });
    // if (Date.now() < end) {
    //   requestAnimationFrame(frame);
    // }
  };

:javascript
  const exampleContainer = document.getElementById('adamzucker-example-container');
  var exampleEmojis = ['🌽', '🍇', '🍌', '🍒', '🍕', '🍷', '🍭', '💖', '💩', '🐷', '🐸', '🐳', '🎃', '🎾', '🌈', '🍦', '💁', '🔥', '😁', '😱', '🌴', '👏', '💃']
  var exampleObjects = [];

  const getRandomEmoji = () => exampleEmojis[Math.floor((Math.random() * exampleEmojis.length))];

  for (var i = 0; i < 15; i++) {
    addExampleObject(i * 150, [10, 300], getRandomEmoji());
    addExampleObject(i * 150, [10, -300], getRandomEmoji());
    addExampleObject(i * 150, [10 - 200, -300], getRandomEmoji());
    addExampleObject(i * 150, [10 + 200, 300], getRandomEmoji());
    addExampleObject(i * 150, [10 - 400, -300], getRandomEmoji());
    addExampleObject(i * 150, [10 + 400, 300], getRandomEmoji());
    addExampleObject(i * 150, [10 - 600, -300], getRandomEmoji());
    addExampleObject(i * 150, [10 + 600, 300], getRandomEmoji());
  }

  function addExampleObject(delay, range, color) {
    setTimeout(function() {
      var c = new ExampleObject(range[0] + Math.random() * range[1], 80 + Math.random() * 4, color, {
        x: -0.15 + Math.random() * 0.3,
        y: 1 + Math.random() * 1
      }, range);
      exampleObjects.push(c);
    }, delay);
  }
  function ExampleObject(x, y, c, v, range) {
    var _this = this;
    this.x = x;
    this.y = y;
    this.color = c;
    this.v = v;
    this.range = range;
    this.element = document.createElement('span');
    /*this.element.style.display = 'block';*/
    this.element.style.opacity = 0;
    this.element.style.position = 'absolute';
    this.element.style.fontSize = '26px';
    this.element.style.color = 'hsl('+(Math.random()*360|0)+',80%,50%)';
    this.element.innerHTML = c;
    exampleContainer.appendChild(this.element);

    this.updateExampleObject = function() {
      if (_this.y > 800) {
        _this.y = 80 + Math.random() * 4;
        _this.x = _this.range[0] + Math.random() * _this.range[1];
      }
      _this.y += _this.v.y;
      _this.x += _this.v.x;
      this.element.style.opacity = 1;
      this.element.style.transform = 'translate3d(' + _this.x + 'px, ' + _this.y + 'px, 0px)';
      this.element.style.webkitTransform = 'translate3d(' + _this.x + 'px, ' + _this.y + 'px, 0px)';
      this.element.style.mozTransform = 'translate3d(' + _this.x + 'px, ' + _this.y + 'px, 0px)';
    };
  }

  function animateExample() {
    for (var i in exampleObjects) {
      exampleObjects[i].updateExampleObject();
    }
    requestAnimationFrame(animateExample);
  }

  animateExample();
